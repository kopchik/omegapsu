Version 4
SHEET 1 1748 804
WIRE 560 -1408 496 -1408
WIRE 688 -1408 640 -1408
WIRE 400 -1232 272 -1232
WIRE 496 -1232 496 -1408
WIRE 496 -1232 400 -1232
WIRE 544 -1232 496 -1232
WIRE 688 -1232 688 -1408
WIRE 688 -1232 640 -1232
WIRE 912 -1232 688 -1232
WIRE 1008 -1232 992 -1232
WIRE 1264 -1232 1008 -1232
WIRE 912 -1200 912 -1232
WIRE 400 -1168 400 -1232
WIRE -432 -1104 -432 -1168
WIRE 912 -1072 912 -1120
WIRE 912 -1072 864 -1072
WIRE -288 -1056 -288 -1120
WIRE -128 -1040 -256 -1040
WIRE 864 -1040 864 -1072
WIRE 864 -1040 848 -1040
WIRE -320 -1024 -384 -1024
WIRE 400 -1024 400 -1088
WIRE 592 -1024 592 -1168
WIRE 592 -1024 400 -1024
WIRE 640 -1024 592 -1024
WIRE 784 -1024 704 -1024
WIRE 1264 -1024 1264 -1232
WIRE 1312 -1024 1264 -1024
WIRE -240 -1008 -256 -1008
WIRE -128 -1008 -128 -1040
WIRE 864 -1008 848 -1008
WIRE 1264 -992 1264 -1024
WIRE -432 -976 -432 -1008
WIRE -240 -976 -240 -1008
WIRE -240 -976 -432 -976
WIRE 160 -976 160 -992
WIRE 160 -976 96 -976
WIRE 864 -976 864 -1008
WIRE 1008 -976 1008 -1232
WIRE 1008 -976 864 -976
WIRE 96 -960 96 -976
WIRE 160 -960 160 -976
WIRE 912 -928 912 -1072
WIRE -432 -912 -432 -976
WIRE -128 -896 -128 -928
WIRE -288 -864 -288 -992
WIRE -432 -784 -432 -832
WIRE 880 -720 848 -720
WIRE 592 -704 592 -1024
WIRE 656 -704 592 -704
WIRE 784 -704 720 -704
WIRE 1072 -688 848 -688
WIRE 1072 -576 1072 -608
FLAG 96 -960 0
FLAG 160 -1072 V+
IOPIN 160 -1072 Out
FLAG 816 -736 V+
IOPIN 816 -736 Out
FLAG 160 -880 V-
IOPIN 160 -880 Out
FLAG 816 -672 V-
IOPIN 816 -672 Out
FLAG 1072 -576 0
FLAG 1264 -912 0
FLAG 272 -1232 V+
IOPIN 272 -1232 Out
FLAG 1312 -1024 out
IOPIN 1312 -1024 Out
FLAG 880 -720 out
IOPIN 880 -720 Out
FLAG 816 -1056 V+
IOPIN 816 -1056 Out
FLAG 816 -992 V-
IOPIN 816 -992 Out
FLAG -288 -864 V+
IOPIN -288 -864 Out
FLAG -288 -1120 V-
IOPIN -288 -1120 Out
FLAG -128 -896 0
FLAG -432 -1168 current
FLAG 912 -928 current
FLAG -432 -784 0
SYMBOL voltage 160 -1088 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 20
SYMBOL voltage 160 -976 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL voltage 1072 -704 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 3.3
SYMBOL npn 544 -1168 R270
SYMATTR InstName Q1
SYMATTR Value 2SCR542P
SYMBOL res 1248 -1008 R0
SYMATTR InstName R1
SYMATTR Value 1
SYMBOL res 1008 -1248 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 0.05
SYMBOL res 896 -1216 R0
SYMATTR InstName R3
SYMATTR Value 15
SYMBOL Opamps\\LT1057 816 -768 M0
WINDOW 3 -45 -42 Left 2
SYMATTR InstName U2
SYMBOL current 400 -1168 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 45 48 Left 2
SYMATTR Value 10m
SYMATTR InstName I2
SYMBOL diode 656 -688 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL Opamps\\LT1057 816 -1088 M0
WINDOW 3 -42 155 Left 2
SYMATTR InstName U1
SYMBOL diode 640 -1008 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL Opamps\\LT1057 -288 -960 R180
WINDOW 3 -45 -42 Left 2
SYMATTR InstName U3
SYMBOL voltage -128 -1024 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 3.3
SYMBOL res -448 -928 R0
SYMATTR InstName R4
SYMATTR Value 330
SYMBOL nmos -384 -1104 M0
SYMATTR InstName M1
SYMATTR Value 2N7002
SYMBOL res 656 -1424 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 2k
TEXT 72 -792 Left 2 !.tran 0.1 startup uic
TEXT 528 -1472 Left 2 ;startup resistor :(
TEXT -568 -1320 Left 2 ;this is a current sink to set CC current
