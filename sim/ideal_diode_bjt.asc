Version 4
SHEET 1 880 744
WIRE 400 -160 336 -160
WIRE 512 -160 464 -160
WIRE -48 -48 -256 -48
WIRE 48 -48 -48 -48
WIRE 176 -48 144 -48
WIRE 224 -48 176 -48
WIRE 336 -48 336 -160
WIRE 336 -48 224 -48
WIRE 384 -48 336 -48
WIRE 512 -48 512 -160
WIRE 512 -48 464 -48
WIRE 640 -48 512 -48
WIRE 176 -16 176 -48
WIRE 128 80 128 0
WIRE 176 80 176 48
WIRE 176 80 128 80
WIRE -48 144 -48 -48
WIRE 224 144 224 -48
WIRE 48 192 16 192
WIRE 160 192 48 192
WIRE -624 240 -624 192
WIRE -48 288 -48 240
WIRE 48 288 48 192
WIRE 48 288 -48 288
WIRE 128 288 128 80
WIRE 224 288 224 240
WIRE 224 288 128 288
WIRE -624 352 -624 320
WIRE -48 368 -48 288
WIRE 224 368 224 288
WIRE -48 528 -48 448
WIRE 96 528 -48 528
WIRE 208 528 96 528
WIRE 224 528 224 448
WIRE 224 528 208 528
WIRE 208 576 208 528
WIRE 96 624 96 528
FLAG -624 192 IN1
IOPIN -624 192 Out
FLAG -624 352 IN2
IOPIN -624 352 Out
FLAG -256 -48 IN1
IOPIN -256 -48 In
FLAG 96 624 IN2
IOPIN 96 624 Out
FLAG 640 -48 IN2
IOPIN 640 -48 In
FLAG 208 576 0
SYMBOL voltage -624 224 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V1
SYMATTR Value SINE(0 25 100)
SYMBOL npn 16 240 R180
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL npn 160 240 M180
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL res 208 352 R0
SYMATTR InstName R1
SYMATTR Value 30k
SYMBOL res -64 352 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL nmos 48 0 R270
SYMATTR InstName M1
SYMATTR Value IRF2807
SYMBOL res 368 -32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value 5
SYMBOL zener 160 -16 R0
SYMATTR InstName D1
SYMATTR Value TFZ16B
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 400 -144 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value 10m
TEXT 80 -248 Left 2 ;"IDEAL" DIODE
TEXT -694 726 Left 2 !.tran 0.1
