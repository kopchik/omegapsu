Version 4
SHEET 1 1780 852
WIRE 544 -192 80 -192
WIRE 768 -192 640 -192
WIRE 1040 -192 768 -192
WIRE 768 -128 768 -192
WIRE 80 -96 80 -112
WIRE 448 -64 432 -64
WIRE 720 -64 704 -64
WIRE 496 -16 496 -32
WIRE 768 -16 768 -32
WIRE -144 32 -144 -32
WIRE 352 48 336 48
WIRE 272 80 272 64
WIRE 432 80 432 -64
WIRE 496 80 496 64
WIRE 496 80 432 80
WIRE 704 80 704 -64
WIRE 768 80 768 64
WIRE 768 80 704 80
WIRE 1248 80 1168 80
WIRE 32 96 32 80
WIRE 496 96 496 80
WIRE 592 96 592 -128
WIRE 592 96 496 96
WIRE 768 96 768 80
WIRE 976 96 960 96
WIRE 1040 96 1040 -192
WIRE 1040 96 976 96
WIRE 1248 96 1248 80
WIRE 368 112 320 112
WIRE 416 112 416 48
WIRE 432 112 416 112
WIRE 976 112 976 96
WIRE 1088 112 1168 80
WIRE -144 128 -144 112
WIRE -144 128 -224 128
WIRE -144 144 -144 128
WIRE -224 160 -224 128
WIRE 272 176 272 160
WIRE 320 176 320 112
WIRE 320 176 272 176
WIRE 336 176 336 48
WIRE 336 176 320 176
WIRE 352 176 336 176
WIRE 432 192 432 112
WIRE 432 192 416 192
WIRE 480 192 432 192
WIRE 592 192 592 96
WIRE 592 192 544 192
WIRE 976 192 976 176
WIRE 976 192 960 192
WIRE 1040 192 1040 176
WIRE 1040 192 976 192
WIRE 1168 192 1088 160
WIRE 1248 192 1248 176
WIRE 1248 192 1168 192
WIRE 32 208 32 176
WIRE 352 208 32 208
WIRE 1040 208 1040 192
WIRE 32 240 32 208
WIRE 272 256 272 176
WIRE 368 272 336 272
WIRE 448 272 432 272
WIRE -144 304 -144 224
WIRE 336 336 336 272
WIRE 368 336 336 336
WIRE 448 336 448 272
WIRE 448 336 432 336
WIRE 1040 336 1040 288
WIRE 192 416 160 416
WIRE 272 416 256 416
WIRE 336 416 336 336
WIRE 336 416 272 416
WIRE 352 416 336 416
WIRE 32 432 32 400
WIRE 448 432 448 336
WIRE 448 432 416 432
WIRE 480 432 448 432
WIRE 592 432 592 192
WIRE 592 432 544 432
WIRE 352 448 288 448
WIRE 256 480 256 416
WIRE 256 480 208 480
WIRE 288 544 288 448
WIRE 288 544 208 544
WIRE 288 608 288 544
WIRE 288 720 288 688
WIRE 288 832 288 800
FLAG -224 160 0
FLAG -144 -32 V+
FLAG -144 304 V-
FLAG 384 160 V+
FLAG 384 224 V-
FLAG 32 432 0
FLAG 80 -96 0
FLAG 272 336 0
FLAG 1040 336 0
FLAG 960 96 sense+
FLAG 960 192 sense-
FLAG 272 64 sense+
FLAG 32 80 sense-
FLAG 384 400 V+
FLAG 384 464 V-
FLAG 160 416 sense-
FLAG 288 832 0
FLAG 496 -128 V+
FLAG 768 96 0
SYMBOL voltage 80 -208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 6V
SYMBOL Opamps\\ADA4077-2 384 128 R0
SYMATTR InstName U1
SYMBOL voltage -144 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 10
SYMBOL voltage -144 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL voltage 32 304 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 2
SYMBOL res 256 240 R0
SYMATTR InstName R1
SYMATTR Value 4.7k
SYMBOL res 16 224 R0
SYMATTR InstName R2
SYMATTR Value 4.7k
SYMBOL res 1024 192 R0
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL npn 544 -128 R270
SYMATTR InstName Q2
SYMATTR Value 2N2222
SYMBOL res 288 176 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 4.7k
SYMBOL res 48 192 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 4.7k
SYMBOL diode 544 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL Opamps\\ADA4077-2 384 368 R0
WINDOW 3 23 120 Left 2
SYMATTR InstName U2
SYMBOL diode 544 416 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL voltage 288 704 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 1
SYMBOL njf 448 -128 R0
SYMATTR InstName J1
SYMATTR Value 2N4393
SYMBOL res 480 -32 R0
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL sw 1040 192 R180
WINDOW 0 28 125 Left 2
WINDOW 3 -51 127 Left 2
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL voltage 1248 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value PULSE(0 1 0 1u 1u 0.05 0.1 3)
SYMBOL cap 960 112 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL cap 432 96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 500p
SYMBOL cap 432 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 0
SYMBOL njf 720 -128 R0
SYMATTR InstName J2
SYMATTR Value 2N4393
SYMBOL res 752 -32 R0
SYMATTR InstName R6
SYMATTR Value 200
SYMBOL res 288 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL diode 416 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL res 272 592 R0
SYMATTR InstName R9
SYMATTR Value 6.8k
TEXT -320 392 Left 2 !.tran 0.35
TEXT 1200 320 Left 2 !.model MYSW SW(Ron=10 Roff=100 Vt=.5 Vh=0)
TEXT -464 80 Left 2 ;TODO: preload
